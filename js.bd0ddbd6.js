parcelRequire=function(e,r,t,n){var i,o="function"==typeof parcelRequire&&parcelRequire,u="function"==typeof require&&require;function f(t,n){if(!r[t]){if(!e[t]){var i="function"==typeof parcelRequire&&parcelRequire;if(!n&&i)return i(t,!0);if(o)return o(t,!0);if(u&&"string"==typeof t)return u(t);var c=new Error("Cannot find module '"+t+"'");throw c.code="MODULE_NOT_FOUND",c}p.resolve=function(r){return e[t][1][r]||r},p.cache={};var l=r[t]=new f.Module(t);e[t][0].call(l.exports,p,l,l.exports,this)}return r[t].exports;function p(e){return f(p.resolve(e))}}f.isParcelRequire=!0,f.Module=function(e){this.id=e,this.bundle=f,this.exports={}},f.modules=e,f.cache=r,f.parent=o,f.register=function(r,t){e[r]=[function(e,r){r.exports=t},{}]};for(var c=0;c<t.length;c++)try{f(t[c])}catch(e){i||(i=e)}if(t.length){var l=f(t[t.length-1]);"object"==typeof exports&&"undefined"!=typeof module?module.exports=l:"function"==typeof define&&define.amd?define(function(){return l}):n&&(this[n]=l)}if(parcelRequire=f,i)throw i;return f}({"ryFC":[function(require,module,exports) {

},{"./..\\fonts\\icons\\Flaticon.woff2":[["Flaticon.25c918ff.woff2","rbpY"],"rbpY"],"./..\\fonts\\icons\\Flaticon.woff":[["Flaticon.e50a9d14.woff","pjvd"],"pjvd"],"./..\\fonts\\icons\\Flaticon.ttf":[["Flaticon.05cc3c43.ttf","g6G7"],"g6G7"],"./..\\images\\app-preloader.svg":[["app-preloader.bac80a4a.svg","1ypJ"],"1ypJ"]}],"LTdt":[function(require,module,exports) {
window.onResizeEnd=function(n){var e;window.addEventListener("resize",function(){clearTimeout(e),e=setTimeout(function(){n()},100)})};
},{}],"QTcd":[function(require,module,exports) {
var global = arguments[3];
var t=arguments[3];!function(t){"use strict";var r,e=Object.prototype,n=e.hasOwnProperty,o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag",u="object"==typeof module,h=t.regeneratorRuntime;if(h)u&&(module.exports=h);else{(h=t.regeneratorRuntime=u?module.exports:{}).wrap=w;var f="suspendedStart",s="suspendedYield",l="executing",p="completed",y={},v={};v[i]=function(){return this};var d=Object.getPrototypeOf,g=d&&d(d(P([])));g&&g!==e&&n.call(g,i)&&(v=g);var m=b.prototype=x.prototype=Object.create(v);E.prototype=m.constructor=b,b.constructor=E,b[c]=E.displayName="GeneratorFunction",h.isGeneratorFunction=function(t){var r="function"==typeof t&&t.constructor;return!!r&&(r===E||"GeneratorFunction"===(r.displayName||r.name))},h.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,b):(t.__proto__=b,c in t||(t[c]="GeneratorFunction")),t.prototype=Object.create(m),t},h.awrap=function(t){return{__await:t}},_(j.prototype),j.prototype[a]=function(){return this},h.AsyncIterator=j,h.async=function(t,r,e,n){var o=new j(w(t,r,e,n));return h.isGeneratorFunction(r)?o:o.next().then(function(t){return t.done?t.value:o.next()})},_(m),m[c]="Generator",m[i]=function(){return this},m.toString=function(){return"[object Generator]"},h.keys=function(t){var r=[];for(var e in t)r.push(e);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},h.values=P,N.prototype={constructor:N,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=r,this.done=!1,this.delegate=null,this.method="next",this.arg=r,this.tryEntries.forEach(G),!t)for(var e in this)"t"===e.charAt(0)&&n.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=r)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function o(n,o){return c.type="throw",c.arg=t,e.next=n,o&&(e.method="next",e.arg=r),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],c=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var u=n.call(a,"catchLoc"),h=n.call(a,"finallyLoc");if(u&&h){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(u){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!h)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(t,r){for(var e=this.tryEntries.length-1;e>=0;--e){var o=this.tryEntries[e];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=r&&r<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=r,i?(this.method="next",this.next=i.finallyLoc,y):this.complete(a)},complete:function(t,r){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&r&&(this.next=r),y},finish:function(t){for(var r=this.tryEntries.length-1;r>=0;--r){var e=this.tryEntries[r];if(e.finallyLoc===t)return this.complete(e.completion,e.afterLoc),G(e),y}},catch:function(t){for(var r=this.tryEntries.length-1;r>=0;--r){var e=this.tryEntries[r];if(e.tryLoc===t){var n=e.completion;if("throw"===n.type){var o=n.arg;G(e)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:P(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=r),y}}}function w(t,r,e,n){var o=r&&r.prototype instanceof x?r:x,i=Object.create(o.prototype),a=new N(n||[]);return i._invoke=function(t,r,e){var n=f;return function(o,i){if(n===l)throw new Error("Generator is already running");if(n===p){if("throw"===o)throw i;return F()}for(e.method=o,e.arg=i;;){var a=e.delegate;if(a){var c=O(a,e);if(c){if(c===y)continue;return c}}if("next"===e.method)e.sent=e._sent=e.arg;else if("throw"===e.method){if(n===f)throw n=p,e.arg;e.dispatchException(e.arg)}else"return"===e.method&&e.abrupt("return",e.arg);n=l;var u=L(t,r,e);if("normal"===u.type){if(n=e.done?p:s,u.arg===y)continue;return{value:u.arg,done:e.done}}"throw"===u.type&&(n=p,e.method="throw",e.arg=u.arg)}}}(t,e,a),i}function L(t,r,e){try{return{type:"normal",arg:t.call(r,e)}}catch(n){return{type:"throw",arg:n}}}function x(){}function E(){}function b(){}function _(t){["next","throw","return"].forEach(function(r){t[r]=function(t){return this._invoke(r,t)}})}function j(t){var r;this._invoke=function(e,o){function i(){return new Promise(function(r,i){!function r(e,o,i,a){var c=L(t[e],t,o);if("throw"!==c.type){var u=c.arg,h=u.value;return h&&"object"==typeof h&&n.call(h,"__await")?Promise.resolve(h.__await).then(function(t){r("next",t,i,a)},function(t){r("throw",t,i,a)}):Promise.resolve(h).then(function(t){u.value=t,i(u)},function(t){return r("throw",t,i,a)})}a(c.arg)}(e,o,r,i)})}return r=r?r.then(i,i):i()}}function O(t,e){var n=t.iterator[e.method];if(n===r){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=r,O(t,e),"throw"===e.method))return y;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return y}var o=L(n,t.iterator,e.arg);if("throw"===o.type)return e.method="throw",e.arg=o.arg,e.delegate=null,y;var i=o.arg;return i?i.done?(e[t.resultName]=i.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=r),e.delegate=null,y):i:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,y)}function k(t){var r={tryLoc:t[0]};1 in t&&(r.catchLoc=t[1]),2 in t&&(r.finallyLoc=t[2],r.afterLoc=t[3]),this.tryEntries.push(r)}function G(t){var r=t.completion||{};r.type="normal",delete r.arg,t.completion=r}function N(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(k,this),this.reset(!0)}function P(t){if(t){var e=t[i];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,a=function e(){for(;++o<t.length;)if(n.call(t,o))return e.value=t[o],e.done=!1,e;return e.value=r,e.done=!0,e};return a.next=a}}return{next:F}}function F(){return{value:r,done:!0}}}(function(){return this||"object"==typeof self&&self}()||Function("return this")());
},{}],"jsKO":[function(require,module,exports) {
var e=function(){return this||"object"==typeof self&&self}()||Function("return this")(),r=e.regeneratorRuntime&&Object.getOwnPropertyNames(e).indexOf("regeneratorRuntime")>=0,t=r&&e.regeneratorRuntime;if(e.regeneratorRuntime=void 0,module.exports=require("./runtime"),r)e.regeneratorRuntime=t;else try{delete e.regeneratorRuntime}catch(n){e.regeneratorRuntime=void 0}
},{"./runtime":"QTcd"}],"8m4e":[function(require,module,exports) {
module.exports=require("regenerator-runtime");
},{"regenerator-runtime":"jsKO"}],"2fws":[function(require,module,exports) {
function n(n,t,o,r,e,i,u){try{var c=n[i](u),v=c.value}catch(a){return void o(a)}c.done?t(v):Promise.resolve(v).then(r,e)}function t(t){return function(){var o=this,r=arguments;return new Promise(function(e,i){var u=t.apply(o,r);function c(t){n(u,e,i,c,v,"next",t)}function v(t){n(u,e,i,c,v,"throw",t)}c(void 0)})}}module.exports=t;
},{}],"ZBnv":[function(require,module,exports) {
function n(n,o){if(!(n instanceof o))throw new TypeError("Cannot call a class as a function")}module.exports=n;
},{}],"No+o":[function(require,module,exports) {
function e(e,r){for(var n=0;n<r.length;n++){var t=r[n];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(e,t.key,t)}}function r(r,n,t){return n&&e(r.prototype,n),t&&e(r,t),r}module.exports=r;
},{}],"s4Tt":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.Scrollbar=void 0;var e=t(require("@babel/runtime/helpers/classCallCheck")),n=t(require("@babel/runtime/helpers/createClass"));function t(e){return e&&e.__esModule?e:{default:e}}var o=function(){function t(){(0,e.default)(this,t);var n=this;n.channelsWrapper=document.querySelector(".channels-wrapper"),n.channelsContent=n.channelsWrapper.querySelector(".channels-content"),n.channelsContainer=n.channelsWrapper.querySelector(".channels"),n.scrollContainer=document.querySelector(".scroll"),n.scrollbar=n.scrollContainer.querySelector(".scrollbar"),n.scrollStep=75,n.isDragged=!1,n.setScrollbarHeight(),n.onMouseAction(),n.onTouchAction(),window.onResizeEnd(function(){n.setScrollbarHeight()})}return(0,n.default)(t,[{key:"setScrollbarHeight",value:function(){var e=this;e.scrollbar.style.height=parseInt(Math.pow(e.channelsContent.offsetHeight,2)/e.channelsContent.scrollHeight)+"px"}},{key:"onMouseAction",value:function(){var e=this;e.scrollbar.addEventListener("mousedown",function(n){if(n.preventDefault(),3!==n.which){var t=e.scrollbar.offsetTop,o=n.pageY;e.isDraggedClass(!0),document.addEventListener("mousemove",function(n){if(e.isDragged){var r=n.pageY,l=Math.max(0,t+r-o),s=e.scrollContainer.offsetHeight-e.scrollbar.offsetHeight;e.scrollbar.style.top=Math.min(l,s)+"px",e.channelsContent.scrollTop=e.channelsContent.scrollHeight*e.scrollbar.offsetTop/e.channelsWrapper.offsetHeight}}),document.addEventListener("mouseup",function(){e.isDragged&&e.isDraggedClass(!1)})}}),e.channelsWrapper.addEventListener("wheel",function(n){e.scrollContent(n.deltaY,0)})}},{key:"onTouchAction",value:function(){var e,n,t=this;t.channelsWrapper.addEventListener("touchstart",function(n){t.isDraggedClass(!0),e=n.touches[0].clientY}),document.addEventListener("touchmove",function(o){t.isDragged&&(n=o.touches[0].clientY,t.scrollContent(e,n),e=n)}),document.addEventListener("touchend",function(e){t.isDragged&&t.isDraggedClass(!1)})}},{key:"isDraggedClass",value:function(e){var n=this;n.isDragged=e,e?n.scrollContainer.classList.add("is-dragged"):n.scrollContainer.classList.remove("is-dragged")}},{key:"scrollContent",value:function(e,n){var t=this;e>n&&(t.channelsContent.scrollTop=t.channelsContent.scrollTop+t.scrollStep),e<n&&(t.channelsContent.scrollTop=t.channelsContent.scrollTop-t.scrollStep),t.scrollbar.style.top=Math.ceil(t.channelsWrapper.offsetHeight*t.channelsContent.scrollTop/t.channelsContent.scrollHeight)+"px"}}]),t}();exports.Scrollbar=o;
},{"@babel/runtime/helpers/classCallCheck":"ZBnv","@babel/runtime/helpers/createClass":"No+o"}],"tF2E":[function(require,module,exports) {
module.exports="preloader.a3e853fe.svg";
},{}],"ykoP":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.Channels=void 0;var t=c(require("@babel/runtime/helpers/classCallCheck")),n=c(require("@babel/runtime/helpers/createClass")),e=require("./scrollbar.js"),a=c(require("../../images/preloader.svg"));function c(t){return t&&t.__esModule?t:{default:t}}var s=function(){function c(){(0,t.default)(this,c);var n=this;n.app=document.querySelector("#app"),n.wrapper=document.querySelector(".wrapper"),n.channelsWrapper=document.querySelector(".channels-wrapper"),n.channelsContainer=document.querySelector(".channels"),n.channelsButton=document.querySelector(".channels-button"),n.channels=document.createDocumentFragment(),n.channelDataObj={},n.getChannelsData(),n.toggleChannels()}return(0,n.default)(c,[{key:"getChannelsData",value:function(){var t=this;fetch("http://api.somafm.com/channels.json").then(function(t){return t.json()}).then(function(n){for(var e=t,c=0;c<n.channels.length;c++){var s=n.channels[c].id,l=n.channels[c].title,r=n.channels[c].description,o=n.channels[c].genre,i=n.channels[c].xlimage,h=n.channels[c].lastPlaying,u="http://ice1.somafm.com/".concat(s,"-128-mp3"),d=document.createElement("div"),p='<div class="inner">\n\t\t\t\t\t\t\t\t\t\t<div class="image" style="background-image: url('.concat(a.default,');">\n\t\t\t\t\t\t\t\t\t\t\t<img alt="').concat(s,'" src="').concat(i,'">\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t<div class="info">\n\t\t\t\t\t\t\t\t\t\t\t<div class="title">').concat(l,'</div>\n\t\t\t\t\t\t\t\t\t\t\t<div class="genre">').concat(o,'</div>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t<button class="play-button"></button>\n\t\t\t\t\t\t\t\t\t</div>');d.innerHTML=p,d.classList.add("channel"),d.setAttribute("id",s),e.channels.appendChild(d),e.channelDataObj[s]={channelID:s,channelTitle:l,channelDescription:r,channelGenre:o,channelImage:i,channelCurrentTrack:h,channelURL:u}}e.channelsContainer.appendChild(t.channels)}).then(function(){var n=t;if(window.innerWidth>1024)new e.Scrollbar;n.onImageLoad(),document.querySelector("#app").classList.remove("loading")}).catch(function(t){return console.error(t)})}},{key:"onImageLoad",value:function(){this.channelsContainer.querySelectorAll(".channel .image img").forEach(function(t){t.addEventListener("load",function(){t.complete&&t.parentElement.classList.add("loaded")})})}},{key:"getChannelTracks",value:function(t){return fetch("http://api.somafm.com/songs/".concat(t,".json")).then(function(t){return t.json()}).then(function(t){return t.songs}).catch(function(t){return console.error(t)})}},{key:"isOpenedClass",value:function(t,n){for(var e=0;e<t.length;e++)n?t[e].classList.add("is-opened"):t[e].classList.remove("is-opened")}},{key:"openChannels",value:function(){var t=this;t.channelsWrapper.offsetWidth;t.isOpened=!0,t.isOpenedClass([t.channelsButton,t.channelsWrapper,t.app],!0)}},{key:"closeChannels",value:function(){var t=this;t.isOpened=!1,t.isOpenedClass([t.channelsButton,t.channelsWrapper,t.app],!1)}},{key:"toggleChannels",value:function(){var t=this;t.isOpened=!1,t.channelsButton.addEventListener("click",function(){t.isOpened?t.closeChannels():t.openChannels()})}},{key:"channelData",get:function(){return this.channelDataObj}}]),c}();exports.Channels=s;
},{"@babel/runtime/helpers/classCallCheck":"ZBnv","@babel/runtime/helpers/createClass":"No+o","./scrollbar.js":"s4Tt","../../images/preloader.svg":"tF2E"}],"BgzZ":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.Analyser=void 0;var t=i(require("@babel/runtime/helpers/classCallCheck")),s=i(require("@babel/runtime/helpers/createClass"));function i(t){return t&&t.__esModule?t:{default:t}}var e=function(){function i(s){(0,t.default)(this,i),this.audio=s.audio,this.visual=this.audio.visual,this.scale=s.scale,this.radius=s.radius,this.isAlpha=s.isAlpha,this.color=s.color,this.audioContext=this.audio.audioContext,this.analyser=this.audioContext.createAnalyser(),this.analyser.fftSize=2048,this.frequencyNum=1024,this.hz=22028,this.analyser.smoothingTimeConstant=s.smoothTime,this.filterLP=this.audioContext.createBiquadFilter(),this.filterHP=this.audioContext.createBiquadFilter(),this.filterLP.type="lowpass",this.filterLP.frequency.value=s.max,this.maxHz=s.max,this.minHz=s.min,this.offset=s.offset,this.radiusOffset=16*this.offset,this.count=0,this.stockSpectrums=[],this.sourceStart=Math.ceil(this.frequencyNum*this.minHz/this.hz),this.sourceEnd=Math.round(this.frequencyNum*this.maxHz/this.hz),this.sourceLength=this.sourceEnd-this.sourceStart+1,this.adjustOffset=Math.round(.12*this.sourceLength),this.distLength=120,this.interval=(this.sourceLength-1)/(this.distLength-1),this.totalLength=Math.round(3*this.distLength/2)}return(0,s.default)(i,[{key:"adjustFrequency",value:function(t,s){var i=Math.max(0,this.spectrums[this.sourceStart+t]-s)*this.scale,e=(t-this.sourceStart)/this.adjustOffset;return i*=Math.max(0,Math.min(1,5/6*(e-1)*(e-1)*(e-1)+1))}},{key:"update",value:function(){var t=new Float32Array(this.frequencyNum);if(this.audio.isReady&&(this.analyser.getFloatFrequencyData(t),this.stockSpectrums.push(t)),this.count<this.offset)this.spectrums=new Float32Array(this.frequencyNum);else if(this.audio.isReady){var s=this.stockSpectrums[0];isFinite(s[0])?this.spectrums=s:this.spectrums=new Float32Array(this.frequencyNum),this.stockSpectrums.shift()}else this.spectrums=new Float32Array(this.frequencyNum);this.audio.isReady&&this.count++;var i=this.visual.canvasContext;i.strokeStyle=this.color,i.fillStyle=this.color;for(var e=0,h=this.sourceStart;h<=this.sourceEnd;h++)e+=this.spectrums[h];e/=this.sourceLength,e=this.audio.isReady&&0!==e?Math.min(-40,Math.max(e,-60)):e,i.beginPath();for(var a=[],r=0;r<this.distLength;r++){var u=Math.floor(r*this.interval),o=u+1,n=Math.abs(u-1),l=u+2;o=o>this.sourceLength-1?2*(this.sourceLength-1)-o:o,l=l>this.sourceLength-1?2*(this.sourceLength-1)-l:l;var c=this.adjustFrequency(n,e),f=this.adjustFrequency(u,e),d=this.adjustFrequency(o,e),y=this.adjustFrequency(l,e),v=r*this.interval-u,m=v*v,g=(-.5*c+1.5*f-1.5*d+.5*y)*v*m+(c-2.5*f+2*d-.5*y)*m+(-.5*c+.5*d)*v+f;g=Math.max(0,g),a.push(g);var L=this.visual.calcPolorCoord((r+this.visual.tick+this.offset)/(this.totalLength-1),this.radius+g+3);i.lineTo(L.x+this.radiusOffset,L.y+this.radiusOffset)}for(var p=1;p<=this.distLength;p++){var x=a[this.distLength-p],q=this.visual.calcPolorCoord((p/2+this.distLength-1+this.visual.tick+this.offset)/(this.totalLength-1),this.radius+x+3);i.lineTo(q.x+this.radiusOffset,q.y+this.radiusOffset)}for(var C=this.distLength;C>0;C--){var F=a[this.distLength-C],M=this.visual.calcPolorCoord((C/2+this.distLength-1+this.visual.tick+this.offset)/(this.totalLength-1),this.radius-F-3);i.lineTo(M.x+this.radiusOffset,M.y+this.radiusOffset)}for(var k=this.distLength-1;k>=0;k--){var O=a[k],S=this.visual.calcPolorCoord((k+this.visual.tick+this.offset)/(this.totalLength-1),this.radius-O-3);i.lineTo(S.x+this.radiusOffset,S.y+this.radiusOffset)}i.fill()}}]),i}();exports.Analyser=e;
},{"@babel/runtime/helpers/classCallCheck":"ZBnv","@babel/runtime/helpers/createClass":"No+o"}],"e+sO":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.Sound=void 0;var e=s(require("@babel/runtime/helpers/classCallCheck")),t=s(require("@babel/runtime/helpers/createClass")),i=require("./analyser.js");function s(e){return e&&e.__esModule?e:{default:e}}var n=function(){function s(t,i){(0,e.default)(this,s),this.visual=t,this.audio=i,this.audioContext=window.AudioContext?new AudioContext:new webkitAudioContext,this.isReady=!1,this.count=0}return(0,t.default)(s,[{key:"init",value:function(){this.analyser_1=new i.Analyser({audio:this,smoothTime:.7,color:"#b0c2e6",scale:2,min:1,max:600,offset:1,radius:350,isAlpha:!0}),this.analyser_2=new i.Analyser({audio:this,smoothTime:.82,color:"#ec8585",scale:1.8,min:1,max:600,offset:-1,radius:350,isAlpha:!1}),this.render(),this.isReady=!0,this.source=this.audioContext.createMediaElementSource(this.audio),this.source.connect(this.analyser_1.analyser),this.source.connect(this.analyser_2.analyser),this.source.connect(this.audioContext.destination)}},{key:"render",value:function(){this.visual.draw(),requestAnimationFrame(this.render.bind(this))}}]),s}();exports.Sound=n;
},{"@babel/runtime/helpers/classCallCheck":"ZBnv","@babel/runtime/helpers/createClass":"No+o","./analyser.js":"BgzZ"}],"Dka6":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.Visualiser=void 0;var e=a(require("@babel/runtime/helpers/classCallCheck")),t=a(require("@babel/runtime/helpers/createClass")),s=require("./sound.js");function a(e){return e&&e.__esModule?e:{default:e}}var i=function(){function a(t){(0,e.default)(this,a),this.canvas=document.getElementById("visualiser"),this.canvasContext=this.canvas.getContext("2d"),this.resize(),this.sound=new s.Sound(this,t),this.sound.init(),this.tick=0}return(0,t.default)(a,[{key:"resize",value:function(){this.canvasW=this.canvas.width=1400,this.canvasH=this.canvas.height=1400}},{key:"calcPolorCoord",value:function(e,t){return{x:Math.cos(2*e*Math.PI)*t,y:Math.sin(2*e*Math.PI)*t*.95}}},{key:"draw",value:function(){this.tick+=.07;var e=this.canvasContext;e.save(),e.clearRect(0,0,this.canvasW,this.canvasH),e.translate(this.canvasW/2,this.canvasH/2),e.lineWidth=3,this.sound.analyser_1.update(),this.sound.analyser_2.update(),e.restore()}}]),a}();exports.Visualiser=i;
},{"@babel/runtime/helpers/classCallCheck":"ZBnv","@babel/runtime/helpers/createClass":"No+o","./sound.js":"e+sO"}],"Pu2Q":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.Player=void 0;var e=u(require("@babel/runtime/regenerator")),n=u(require("@babel/runtime/helpers/asyncToGenerator")),a=u(require("@babel/runtime/helpers/classCallCheck")),t=u(require("@babel/runtime/helpers/createClass")),r=require("./channels.js"),l=require("../libs/2d-audio-visualiser/visualiser.js");function u(e){return e&&e.__esModule?e:{default:e}}var c=function(){function u(){(0,a.default)(this,u);var e=this;e.app=document.querySelector("#app"),e.channels=new r.Channels,e.channelsContainer=document.querySelector(".channels"),e.playerWrapper=document.querySelector(".player-wrapper"),e.playerContainer=document.querySelector(".player"),e.currentTrack=e.playerContainer.querySelector(".current-track"),e.artistName=e.currentTrack.querySelector(".artist"),e.trackName=e.currentTrack.querySelector(".track"),e.audio=new Audio,e.audio.crossOrigin="anonymous",e.audio.volume=1,e.channelElement=null,e.channelData=null,e.channelTracks=null,e.isInit=!1,e.userGesture=!1,e.loadChannel(),e.controlPlayer(),e.updateTrackInfo()}return(0,t.default)(u,[{key:"loadChannel",value:function(){var e=this;e.channelsContainer.addEventListener("click",function(n){var a=n.target.closest(".channel");window.innerWidth>767&&(e.userGesture||(e.visualiser=new l.Visualiser(e.audio))),e.userGesture=!0,a&&(e.channelData=e.channels.channelData[a.getAttribute("id")],e.switchAudio(a,e.channelData.channelURL),e.chooseChannel(a))})}},{key:"chooseChannel",value:function(){var a=(0,n.default)(e.default.mark(function n(a){var t;return e.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return(t=this).channelElement&&t.channelElement.classList.remove("current"),a.classList.add("current"),t.channelElement=a,e.next=6,t.getTrackInfo(t.channelData);case 6:t.setChannelInfo(t.channelData),t.setTrackInfo(),t.playerWrapper.classList.contains("empty")&&t.playerWrapper.classList.remove("empty");case 9:case"end":return e.stop()}},n,this)}));return function(e){return a.apply(this,arguments)}}()},{key:"loadAudio",value:function(e){var n=this;n.audio.src=e,n.audio.addEventListener("canplay",function(){n.audio.play()})}},{key:"switchAudio",value:function(e,n){var a=this;a.channelElement!=e?(a.loadAudio(n),a.isPlayedClass([e,a.app],!0),a.channelElement&&a.isPlayedClass([a.channelElement],!1)):a.audio.paused?(a.audio.play(),a.isPlayedClass([e,a.app],!0)):(a.audio.pause(),a.isPlayedClass([e,a.app],!1))}},{key:"isPlayedClass",value:function(e,n){for(var a=0;a<e.length;a++)n?e[a].classList.add("is-played"):e[a].classList.remove("is-played")}},{key:"setChannelInfo",value:function(e){var n=this,a=n.playerContainer.querySelector(".image"),t=n.playerContainer.querySelector(".title"),r=n.playerContainer.querySelector(".genre"),l=n.playerContainer.querySelector(".description");a.style.backgroundImage="url(".concat(e.channelImage,")"),t.innerText=e.channelTitle,r.innerText=e.channelGenre,l.innerText=e.channelDescription}},{key:"getTrackInfo",value:function(){var a=(0,n.default)(e.default.mark(function n(a){var t;return e.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=this,e.next=3,t.channels.getChannelTracks(a.channelID);case 3:return t.channelTracks=e.sent,e.abrupt("return",t.channelTracks);case 5:case"end":return e.stop()}},n,this)}));return function(e){return a.apply(this,arguments)}}()},{key:"setTrackInfo",value:function(){var e=this;e.currentTrack.innerText=e.channelTracks[0].artist+" - "+e.channelTracks[0].title}},{key:"updateTrackInfo",value:function(){var a=this;setInterval((0,n.default)(e.default.mark(function n(){return e.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!a.channelData){e.next=4;break}return e.next=3,a.getTrackInfo(a.channelData);case 3:a.setTrackInfo();case 4:case"end":return e.stop()}},n)})),15e3)}},{key:"controlPlayer",value:function(){var e=this,n=e.playerContainer.querySelector(".play-button"),a=e.playerContainer.querySelector(".prev-button"),t=e.playerContainer.querySelector(".next-button");e.controlVolume(),n.addEventListener("click",function(){e.switchAudio(e.channelElement)}),t.addEventListener("click",function(){var n=e.channelsContainer.querySelector(".channel.current").nextElementSibling;n&&(e.channelData=e.channels.channelData[n.getAttribute("id")],e.switchAudio(n,e.channelData.channelURL),e.chooseChannel(n))}),a.addEventListener("click",function(){var n=e.channelsContainer.querySelector(".channel.current").previousElementSibling;n&&(e.channelData=e.channels.channelData[n.getAttribute("id")],e.switchAudio(n,e.channelData.channelURL),e.chooseChannel(n))})}},{key:"controlVolume",value:function(){var e=this;e.volume=e.playerContainer.querySelector(".volume"),e.volumebar=e.volume.querySelector(".volumebar"),e.mute=e.volume.querySelector(".mute"),e.isDragged=!1,e.isMuted=!1,e.savedVolume=null,e.muteAudio(),e.volumebar.addEventListener("mousedown",function(n){n.preventDefault(),3!==n.which&&(e.isDragged=!0,e.volumebar.classList.add("is-dragged"),e.isMuted=!1,e.changeVolume(n.pageX),document.onmouseup=function(n){e.isDragged&&(e.isDragged=!1,e.volumebar.classList.remove("is-dragged"),e.changeVolume(n.pageX))},document.onmousemove=function(n){e.isDragged&&e.changeVolume(n.pageX)})})}},{key:"changeVolume",value:function(e){var n=this,a=100*(e-n.volumebar.getBoundingClientRect().left)/n.volumebar.clientWidth;a>100&&(a=100),a<0&&(a=0),n.volumebar.style.backgroundSize="".concat(a,"% 100%"),n.audio.volume=a/100,0===n.audio.volume?(n.mute.classList.add("is-muted"),n.isMuted=!0):(n.mute.classList.remove("is-muted"),n.isMuted=!1)}},{key:"muteAudio",value:function(){var e=this;e.mute.addEventListener("mouseup",function(n){3!==n.which&&(e.isMuted?(e.audio.volume=e.savedVolume,e.isMuted=!1,e.mute.classList.remove("is-muted")):(e.savedVolume=e.audio.volume,e.audio.volume=0,e.isMuted=!0,e.mute.classList.add("is-muted")),e.volumebar.style.backgroundSize="".concat(100*e.audio.volume,"% 100%"))})}}]),u}();exports.Player=c;
},{"@babel/runtime/regenerator":"8m4e","@babel/runtime/helpers/asyncToGenerator":"2fws","@babel/runtime/helpers/classCallCheck":"ZBnv","@babel/runtime/helpers/createClass":"No+o","./channels.js":"ykoP","../libs/2d-audio-visualiser/visualiser.js":"Dka6"}],"mahc":[function(require,module,exports) {
"use strict";require("../styles/main.scss"),require("./utils/resize.js");var e=require("./components/player.js");document.addEventListener("DOMContentLoaded",function(){new e.Player});
},{"../styles/main.scss":"ryFC","./utils/resize.js":"LTdt","./components/player.js":"Pu2Q"}]},{},["mahc"], null)
//# sourceMappingURL=js.bd0ddbd6.js.map